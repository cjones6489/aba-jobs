<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BCBA Jobs Salary Analysis - Michigan</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@sgratzl/chartjs-chart-boxplot@4"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            min-height: 100vh;
            color: #1e293b;
            line-height: 1.6;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
        }
        
        .header {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            padding: 32px 20px 24px 20px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        
        h1 {
            color: #0f172a;
            font-size: 2.25rem;
            font-weight: 700;
            margin: 0 0 12px 0;
            letter-spacing: -0.5px;
        }
        
        .subtitle {
            color: #475569;
            font-size: 1.1rem;
            font-weight: 500;
            margin: 0 0 8px 0;
        }
        
        .report-meta {
            margin: 0;
            color: #64748b;
            font-size: 0.85rem;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto 40px;
            padding: 0 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 24px;
            margin-bottom: 48px;
        }
        
        .stat-card {
            background: white;
            padding: 18px 16px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
            border: 1px solid #e2e8f0;
            transition: all 0.2s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        

        
        .stat-icon {
            width: 32px;
            height: 32px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            font-size: 1rem;
        }
        

        
        .stat-value {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 4px;
            color: #1e293b;
        }
        

        
        .stat-label {
            font-size: 0.8rem;
            color: #64748b;
            font-weight: 500;
        }
        
        .primary .stat-label {
            color: rgba(255, 255, 255, 0.9);
        }
        
        .content-section {
            background: white;
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0;
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e2e8f0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chart-container {
            position: relative;
            margin-bottom: 20px;
        }
        
        .chart-container.tall {
            height: 500px;
        }
        
        .chart-container.medium {
            height: 400px;
        }
        
        .chart-container.standard {
            height: 350px;
        }
        
        .histogram {
            display: flex;
            height: 400px;
            padding: 20px;
        }
        
        .y-axis {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding-right: 10px;
            border-right: 2px solid #333;
            margin-right: 20px;
        }
        
        .y-label {
            font-size: 0.875rem;
            color: #64748b;
            text-align: right;
            min-width: 30px;
        }
        
        .chart-area {
            flex: 1;
            position: relative;
        }
        
        .bars {
            display: flex;
            align-items: flex-end;
            height: 100%;
            border-bottom: 2px solid #333;
            gap: 2px;
        }
        
        .bar-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
        }
        
        .stacked-bar {
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
        }
        
        .bar-segment {
            width: 80%;
            transition: opacity 0.3s ease;
            cursor: pointer;
        }
        
        .bar-segment:hover {
            opacity: 0.8;
        }
        
        .bar-segment.blue {
            background: #3b82f6;
        }
        
        .bar-segment.red {
            background: #ef4444;
        }
        
        .x-label {
            margin-top: 10px;
            font-size: 0.875rem;
            color: #475569;
            text-align: center;
            font-weight: 500;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 20px;
            height: 12px;
            border-radius: 2px;
        }
        
        .legend-label {
            font-size: 0.875rem;
            color: #64748b;
        }
        
        .data-note {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1) 0%, rgba(245, 158, 11, 0.05) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 32px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            font-size: 0.95rem;
            color: #92400e;
            font-weight: 500;
            box-shadow: 0 4px 12px rgba(251, 191, 36, 0.1);
        }
        
        .akoya-callout {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 20px;
            padding: 24px;
            margin-top: 32px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
            box-shadow: 0 8px 24px rgba(59, 130, 246, 0.1);
            transition: all 0.3s ease;
        }
        
        .akoya-callout:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(59, 130, 246, 0.15);
        }
        
        .akoya-callout-icon {
            font-size: 2rem;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .akoya-callout-text {
            flex: 1;
        }
        
        .akoya-callout-title {
            font-weight: 700;
            font-size: 1.125rem;
            background: linear-gradient(135deg, #1e293b 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }
        
        .akoya-callout-desc {
            color: #475569;
            font-size: 0.95rem;
            line-height: 1.6;
            font-weight: 500;
        }
        
        .table-responsive {
            overflow-x: auto;
            border-radius: 8px;
            background: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            border: 1px solid #e2e8f0;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
        }
        
        .table-responsive::-webkit-scrollbar {
            height: 6px;
        }
        
        .table-responsive::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 3px;
        }
        
        .table-responsive::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        
        .table-responsive::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95rem;
        }
        
        thead {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        }
        
        th {
            padding: 16px 14px;
            text-align: left;
            font-weight: 600;
            color: #1e293b;
            border-bottom: 2px solid #e2e8f0;
            white-space: nowrap;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.8rem;
        }
        
        td {
            padding: 14px 14px;
            color: #374151;
            border-bottom: 1px solid #f1f5f9;
            font-weight: 500;
            vertical-align: middle;
        }
        
        tbody tr:nth-child(even) {
            background: #fafbfc;
        }
        
        tbody tr:hover {
            background: linear-gradient(135deg, #f8fafc 0%, #f6f8fa 100%);
            transition: background 0.2s ease;
        }
        
        tbody tr:nth-child(even):hover {
            background: linear-gradient(135deg, #f8fafc 0%, #f6f8fa 100%);
        }
        
        /* Salary column styling */
        td:nth-child(4) {
            font-weight: 600;
            color: #1e293b;
        }
        
        /* Company name styling */
        td:nth-child(2) {
            font-weight: 600;
        }
        
        /* Percentage comparison styling */
        td:nth-child(6) {
            font-weight: 600;
            text-align: center;
        }
        
        tbody tr {
            transition: all 0.3s ease;
        }
        
        tbody tr:hover {
            background: rgba(59, 130, 246, 0.05);
            transform: scale(1.01);
        }
        
        .highlight-value {
            font-weight: 700;
            color: #3b82f6;
        }
        
        .badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border: 1px solid;
            transition: all 0.3s ease;
        }
        
        .badge-premium {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            color: #92400e;
            border-color: #f59e0b;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.2);
        }
        
        .badge-high {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            color: #1e40af;
            border-color: #3b82f6;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }
        
        .badge-standard {
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            color: #3730a3;
            border-color: #6366f1;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
        }
        
        .badge:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }
        
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .insight-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #3b82f6;
            transition: all 0.3s ease;
        }
        
        .insight-card:hover {
            transform: translateX(4px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        
        .insight-title {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .insight-text {
            color: #475569;
            font-size: 0.925rem;
            line-height: 1.6;
        }
        
        .footer {
            text-align: center;
            padding: 32px 20px;
            background: #f8fafc;
            color: #64748b;
            font-size: 0.9rem;
            margin-top: 40px;
            border-top: 1px solid #e2e8f0;
        }

        /* City Rankings Styles */
        .rank-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            font-weight: 600;
            font-size: 12px;
            color: white;
        }

        .rank-1 {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
        }

        .rank-2 {
            background: linear-gradient(135deg, #9ca3af, #6b7280);
        }

        .rank-3 {
            background: linear-gradient(135deg, #cd7c0f, #92400e);
        }

        .positive {
            color: #059669;
            font-weight: 600;
        }

        .negative {
            color: #dc2626;
            font-weight: 600;
        }

        .stat-sublabel {
            font-size: 0.75rem;
            color: #64748b;
            margin-top: 4px;
            line-height: 1.3;
        }

        /* Supply/Demand Table Styles */
        .supply-demand-table {
            border-collapse: collapse;
            width: 100%;
            font-size: 0.9rem;
        }

        .supply-demand-table th {
            background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);
            color: white;
            font-weight: 600;
            padding: 12px 8px;
            text-align: center;
            border: 1px solid #1e40af;
        }

        .supply-demand-table td {
            padding: 10px 8px;
            text-align: center;
            border: 1px solid #e2e8f0;
            vertical-align: middle;
        }

        .supply-demand-table tbody tr:nth-child(even) {
            background-color: #f8fafc;
        }

        .supply-demand-table tbody tr:hover {
            background-color: #e0f2fe;
            transition: background-color 0.2s ease;
        }

        /* County name styling */
        .county-name {
            font-weight: 600;
            text-align: left !important;
            padding-left: 12px !important;
        }

        /* Jobs per BCBA color coding */
        .jobs-ratio-high {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            color: #92400e;
            font-weight: 600;
            border-radius: 4px;
            padding: 4px 8px;
        }

        .jobs-ratio-medium {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            color: #1e40af;
            font-weight: 600;
            border-radius: 4px;
            padding: 4px 8px;
        }

        .jobs-ratio-low {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            color: #166534;
            font-weight: 600;
            border-radius: 4px;
            padding: 4px 8px;
        }

        .jobs-ratio-none {
            color: #64748b;
            font-style: italic;
        }

        /* BCBA density color coding */
        .bcba-density-high {
            background: linear-gradient(135deg, #e0f2fe, #bae6fd);
            color: #0c4a6e;
            font-weight: 600;
            border-radius: 4px;
            padding: 4px 8px;
        }

        .bcba-density-medium {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            color: #0369a1;
            font-weight: 500;
            border-radius: 4px;
            padding: 4px 8px;
        }

        .bcba-density-low {
            color: #64748b;
        }
        
        .footer p {
            margin: 0;
            font-weight: 500;
        }
        
        .footer p:first-child {
            color: #1e293b;
            font-weight: 600;
        }
        
        .supply-demand-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .supply-card, .demand-card, .ratio-card {
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .supply-card {
            background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
            border: 1px solid #22c55e;
        }
        
        .demand-card {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border: 1px solid #ef4444;
        }
        
        .ratio-card {
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            border: 1px solid #6366f1;
        }
        
        .supply-card:hover, .demand-card:hover, .ratio-card:hover {
            transform: translateY(-3px);
        }
        
        .sd-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .sd-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 5px;
        }
        
        .sd-label {
            font-size: 1rem;
            font-weight: 600;
            color: #475569;
            margin-bottom: 5px;
        }
        
        .sd-detail {
            font-size: 0.875rem;
            color: #64748b;
        }
        
        .analysis-note {
            background: #f0f9ff;
            border: 1px solid #0284c7;
            border-radius: 8px;
            padding: 16px;
            margin-top: 20px;
            color: #0c4a6e;
            font-size: 0.925rem;
            line-height: 1.6;
        }
        
        .boxplot-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            padding: 20px;
            background: #fafafa;
            border-radius: 8px;
        }
        
        .boxplot-chart {
            display: flex;
            height: 400px;
        }
        
        .salary-scale {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding-right: 15px;
            margin-right: 20px;
            border-right: 2px solid #333;
        }
        
        .scale-label {
            font-size: 0.875rem;
            color: #64748b;
            text-align: right;
            min-width: 45px;
        }
        
        .boxplot-area {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .boxplot {
            width: 120px;
            height: 100%;
            position: relative;
        }
        
        .box {
            position: absolute;
            left: 20px;
            right: 20px;
            background: #3b82f6;
            border: 2px solid #1e40af;
            opacity: 0.8;
        }
        
        .median-line {
            position: absolute;
            left: -2px;
            right: -2px;
            height: 2px;
            background: #1e293b;
        }
        
        .whisker-line {
            position: absolute;
            left: 50%;
            width: 2px;
            background: #64748b;
            transform: translateX(-50%);
        }
        
        .whisker-line.top {
            height: 30px;
        }
        
        .whisker-cap {
            position: absolute;
            left: 35px;
            right: 35px;
            height: 2px;
            background: #64748b;
        }
        
        .outlier {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ef4444;
            border: 1px solid #991b1b;
            cursor: pointer;
        }
        
        .outlier:hover {
            transform: translateX(-50%) scale(1.5);
        }
        
        .boxplot-labels {
            position: absolute;
            bottom: -30px;
            left: 0;
            right: 0;
            text-align: center;
        }
        
        .bp-label {
            font-size: 0.925rem;
            color: #475569;
            font-weight: 500;
        }
        
        .boxplot-stats {
            padding: 20px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        
        .boxplot-stats h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 15px;
        }
        
        .stats-table {
            width: 100%;
            font-size: 0.875rem;
        }
        
        .stats-table td {
            padding: 8px 5px;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .stats-table td:first-child {
            color: #64748b;
        }
        
        .stats-table td:last-child {
            text-align: right;
            color: #1e293b;
        }
        
        /* Enhanced Supply/Demand Section Styles */
        .market-overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 48px;
        }
        
        .market-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 32px;
            border-radius: 24px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.12),
                0 2px 6px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .market-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.15),
                0 8px 16px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        
        .market-card.total-supply::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #10b981, #06d6a0);
        }
        
        .market-card.total-demand::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #6366f1);
        }
        
        .market-card.growth-rate::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #8b5cf6, #a855f7);
        }
        
        .market-icon {
            font-size: 2.5rem;
            margin-bottom: 16px;
            display: block;
        }
        
        .market-value {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #1e293b 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
            letter-spacing: -1px;
        }
        
        .market-label {
            font-size: 1.1rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .market-detail {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 12px;
            font-weight: 500;
        }
        
        .market-trend {
            font-size: 0.85rem;
            font-weight: 600;
            padding: 6px 12px;
            border-radius: 12px;
            display: inline-block;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .market-trend.positive {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(6, 214, 160, 0.05));
            color: #059669;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        
        .market-trend.neutral {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(99, 102, 241, 0.05));
            color: #2563eb;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
        
        /* Trends Section */
        .trends-section {
            margin: 48px 0;
            padding: 32px;
            background: rgba(248, 250, 252, 0.5);
            border-radius: 20px;
            border: 1px solid rgba(226, 232, 240, 0.3);
        }
        
        .trends-title {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #1e293b 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 24px;
            text-align: center;
        }
        
        .trends-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .trend-card {
            background: white;
            padding: 24px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(226, 232, 240, 0.5);
            position: relative;
            overflow: hidden;
        }
        
        .trend-month {
            font-size: 0.85rem;
            font-weight: 600;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }
        
        .trend-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1e293b;
            margin-bottom: 4px;
        }
        
        .trend-label {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 16px;
            font-weight: 500;
        }
        
        .trend-bar {
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            border-radius: 2px;
            transition: width 0.8s ease;
        }
        
        /* Market Health Section */
        .market-health {
            margin: 48px 0;
        }
        
        .health-title {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #1e293b 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 24px;
            text-align: center;
        }
        
        .health-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
        }
        
        .health-indicator {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 24px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .health-indicator:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);
        }
        
        .health-indicator.healthy {
            border-left: 4px solid #10b981;
        }
        
        .health-indicator.growing {
            border-left: 4px solid #3b82f6;
        }
        
        .health-indicator.balanced {
            border-left: 4px solid #8b5cf6;
        }
        
        .health-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }
        
        .health-metric {
            flex: 1;
        }
        
        .health-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 4px;
        }
        
        .health-label {
            font-size: 0.9rem;
            color: #64748b;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .health-desc {
            font-size: 0.85rem;
            color: #64748b;
            line-height: 1.4;
        }
        
        /* Tablet styles */
        @media (max-width: 1024px) and (min-width: 769px) {
            .container {
                padding: 0 24px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .content-section {
                padding: 32px 24px;
            }
            
            table {
                font-size: 0.9rem;
            }
            
            th, td {
                padding: 14px 12px;
            }
        }
        
        /* Mobile styles */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .report-meta {
                font-size: 0.8rem;
                line-height: 1.4;
            }
            
            .header {
                padding: 24px 16px 20px 16px;
            }
            
            .container {
                padding: 0 16px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
            }
            
            .stat-card {
                padding: 16px 12px;
            }
            
            .stat-value {
                font-size: 1.5rem;
            }
            
            .stat-icon {
                width: 28px;
                height: 28px;
                font-size: 0.9rem;
            }
            
            .content-section {
                padding: 24px 16px;
                margin-bottom: 24px;
            }
            
            .section-title {
                font-size: 1.4rem;
                margin-bottom: 16px;
            }
            
            .chart-container {
                margin: 16px 0;
            }
            
            .chart-container.medium {
                height: 250px;
            }
            
            .table-responsive {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            table {
                font-size: 0.8rem;
                min-width: 600px;
            }
            
            th, td {
                padding: 12px 8px;
                white-space: nowrap;
            }
            
            .analysis-note {
                font-size: 0.85rem;
                padding: 12px;
                margin: 16px 0;
            }
            
            .trends-title {
                font-size: 1.1rem;
            }
        }
        
        @media (max-width: 480px) {
            .header {
                padding: 20px 12px 16px 12px;
            }
            
            h1 {
                font-size: 1.6rem;
                line-height: 1.2;
            }
            
            .subtitle {
                font-size: 0.9rem;
            }
            
            .report-meta {
                font-size: 0.75rem;
                line-height: 1.3;
            }
            
            .container {
                padding: 0 12px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .stat-card {
                padding: 16px;
                text-align: center;
            }
            
            .stat-value {
                font-size: 1.4rem;
            }
            
            .stat-label {
                font-size: 0.75rem;
            }
            
            .stat-icon {
                width: 24px;
                height: 24px;
                font-size: 0.8rem;
                margin: 0 auto 8px;
            }
            
            .content-section {
                padding: 20px 12px;
                margin-bottom: 20px;
            }
            
            .section-title {
                font-size: 1.2rem;
                margin-bottom: 12px;
            }
            
            .chart-container.medium {
                height: 200px;
            }
            
            table {
                font-size: 0.7rem;
                min-width: 500px;
            }
            
            th, td {
                padding: 8px 6px;
            }
            
            .analysis-note {
                font-size: 0.8rem;
                padding: 10px;
                margin: 12px 0;
            }
            
            .trends-title {
                font-size: 1rem;
                margin-bottom: 12px;
            }
            
            .badge {
                font-size: 0.65rem;
                padding: 3px 8px;
            }
            
            .rank-badge {
                width: 20px;
                height: 20px;
                font-size: 0.7rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1>BCBA Salary Analysis Report</h1>
            <p class="subtitle">Comprehensive Market Analysis for Board Certified Behavior Analysts in Michigan</p>
            <p class="report-meta">Dataset: 399 BCBA Positions | 206 with Clean Salary Data (Midpoint Analysis) | Data Currency: Jun 2025 - Sept 2025 | Report Generated: September 1st, 2025</p>
        </div>
    </div>
    
    <div class="container">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">💼</div>
                <div class="stat-value">206</div>
                <div class="stat-label">BCBA Positions Analyzed</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">💰</div>
                <div class="stat-value">$84,067</div>
                <div class="stat-label">Average Annual Salary</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">📊</div>
                <div class="stat-value">$81,000</div>
                <div class="stat-label">Median Salary</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">📈</div>
                <div class="stat-value">$65K-$105K</div>
                <div class="stat-label">Salary Range</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">✅</div>
                <div class="stat-value">51.6%</div>
                <div class="stat-label">Salary Transparency Rate</div>
            </div>
        </div>
        
        <div class="content-section">
            <div class="data-note">
                ⚠️ <strong>Data Note:</strong> This analysis is based on 206 BCBA positions (52.1%) with clean salary data out of 399 total BCBA postings in Michigan. Salaries calculated using midpoint analysis from min/max ranges. Hourly positions excluded. Data sourced from LinkedIn job postings.
            </div>
            
            <h2 class="section-title">
                📊 Salary Distribution Analysis
            </h2>
            
            <div class="chart-container tall">
                <canvas id="salaryDistChart"></canvas>
                    </div>
            
            <div class="akoya-callout">
                <div class="akoya-callout-icon">📊</div>
                <div class="akoya-callout-text">
                    <div class="akoya-callout-title">Market Insights</div>
                    <div class="akoya-callout-desc">Akoya Behavioral Health leads in compensation at $105,000 (31 positions), significantly above market average. Centria Autism dominates volume with 90 positions. Most other employers cluster around $80,000-$82,500, showing market standardization below the premium tier.</div>
                                </div>
                            </div>
                                </div>
                
        <div class="content-section">
            <h2 class="section-title">
                📊 Salary Distribution Box Plot
            </h2>
            
            <!-- Interactive Box Plot -->
            <div class="chart-container medium">
                <canvas id="salaryBoxPlot"></canvas>
                            </div>
            
            <div class="analysis-note">
                <strong>Statistical Summary:</strong> The box plot shows salary quartiles with outliers clearly marked. The central box represents 50% of salaries ($77.5K-$85K), while red dots indicate outliers: 31 Akoya positions at $105K and 2 positions at $65K.
                                </div>
                            </div>
        
        <div class="content-section">
            <h2 class="section-title">
                📈 Michigan BCBA Market Analysis
            </h2>

            <!-- July 2025 Highlights -->
            <h3 class="trends-title" style="text-align:left;margin-bottom:16px;">📅 July 2025 Highlights</h3>
            <div class="stats-grid" style="margin-bottom:24px;">
                <div class="stat-card">
                    <div class="stat-icon">💼</div>
                    <div class="stat-value">111</div>
                    <div class="stat-label">New Job Postings</div>
                                </div>
                <div class="stat-card">
                    <div class="stat-icon">🆕</div>
                    <div class="stat-value">46</div>
                    <div class="stat-label">New BCBAs Certified</div>
                            </div>
                <div class="stat-card">
                    <div class="stat-icon">⚖️</div>
                    <div class="stat-value">2.4</div>
                    <div class="stat-label">Jobs per New BCBA</div>
                                </div>
                <div class="stat-card">
                    <div class="stat-icon">👥</div>
                    <div class="stat-value">2,565</div>
                    <div class="stat-label">Total BCBAs (End of July)</div>
                    </div>
                </div>
                
            <!-- August 2025 Highlights -->
            <h3 class="trends-title" style="text-align:left;margin-bottom:16px;">📅 August 2025 Highlights</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">💼</div>
                    <div class="stat-value">155</div>
                    <div class="stat-label">New Job Postings</div>
                    </div>
                <div class="stat-card">
                    <div class="stat-icon">🆕</div>
                    <div class="stat-value">32</div>
                    <div class="stat-label">New BCBAs Certified</div>
                    </div>
                <div class="stat-card">
                    <div class="stat-icon">⚖️</div>
                    <div class="stat-value">4.8</div>
                    <div class="stat-label">Jobs per New BCBA</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">👥</div>
                    <div class="stat-value">2,597</div>
                    <div class="stat-label">Total BCBAs (End of August)</div>
                </div>
            </div>
            
            <div class="analysis-note">
                <strong>Market Insights:</strong> July had 46 new BCBAs and 111 job postings (2.4 jobs per new BCBA). August saw fewer new BCBAs (32) but significantly more job postings (155), creating a more favorable 4.8 jobs per new BCBA ratio - indicating strong demand growth outpacing supply growth.
            </div>
        </div>
        
        <div class="content-section">
            <h2 class="section-title">
                🏢 Top Employers by Compensation (3+ Positions)
            </h2>
            <div class="table-responsive">
                <table>
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Company</th>
                            <th>Positions</th>
                            <th>Average Salary</th>
                            <th>Salary Range</th>
                            <th style="text-align: center;">vs State Avg</th>
                            <th>Classification</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td><strong>Akoya Behavioral Health</strong></td>
                            <td>31</td>
                            <td>$105,000</td>
                            <td>$105,000</td>
                            <td><span class="positive">+24.9%</span></td>
                            <td><span class="badge badge-premium">Premium</span></td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Patterns Behavioral Services, Inc.</td>
                            <td>4</td>
                            <td>$83,625</td>
                            <td>$75,000 - $105,000</td>
                            <td><span class="negative">-0.5%</span></td>
                            <td><span class="badge badge-high">Above Average</span></td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Kennedy Care</td>
                            <td>7</td>
                            <td>$82,500</td>
                            <td>$80,000 - $85,000</td>
                            <td><span class="negative">-1.9%</span></td>
                            <td><span class="badge badge-high">Above Average</span></td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Behavior Frontiers</td>
                            <td>7</td>
                            <td>$82,500</td>
                            <td>$80,000 - $85,000</td>
                            <td><span class="negative">-1.9%</span></td>
                            <td><span class="badge badge-high">Above Average</span></td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>Gateway Pediatric Therapy</td>
                            <td>13</td>
                            <td>$81,000</td>
                            <td>$77,000 - $85,000</td>
                            <td><span class="negative">-3.6%</span></td>
                            <td><span class="badge badge-standard">Market Rate</span></td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>Acorn Health</td>
                            <td>8</td>
                            <td>$80,675</td>
                            <td>$70,000 - $99,000</td>
                            <td><span class="negative">-4.0%</span></td>
                            <td><span class="badge badge-standard">Market Rate</span></td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>Centria Autism</td>
                            <td>90</td>
                            <td>$80,083</td>
                            <td>$75,000 - $95,000</td>
                            <td><span class="negative">-4.7%</span></td>
                            <td><span class="badge badge-standard">Market Rate</span></td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td>Acadia Healthcare</td>
                            <td>5</td>
                            <td>$80,000</td>
                            <td>$75,000 - $85,000</td>
                            <td><span class="negative">-4.8%</span></td>
                            <td><span class="badge badge-standard">Market Rate</span></td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td>Lumen Pediatric Therapy LLC</td>
                            <td>4</td>
                            <td>$76,250</td>
                            <td>$65,000 - $85,000</td>
                            <td><span class="negative">-9.3%</span></td>
                            <td><span class="badge badge-standard">Market Rate</span></td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td>Ivy Rehab Network</td>
                            <td>3</td>
                            <td>$75,000</td>
                            <td>$70,000 - $80,000</td>
                            <td><span class="negative">-10.8%</span></td>
                            <td><span class="badge badge-standard">Market Rate</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="content-section">
            <h2 class="section-title">
                📍 Geographic Compensation Analysis
            </h2>
            <div class="chart-container standard">
                <canvas id="cityChart"></canvas>
                </div>
                </div>
        
        <div class="content-section">
            <h2 class="section-title">
                🏙️ City Rankings - Full-Time Positions (5+ Jobs)
            </h2>
            
            <!-- Summary Cards -->
            <div class="stats-grid" style="margin-bottom: 32px;">
                <div class="stat-card">
                    <div class="stat-icon">🏆</div>
                    <div class="stat-value">$100,500</div>
                    <div class="stat-label">Highest Ranked City</div>
                    <div class="stat-sublabel">Auburn Hills (+19.5% above average, 5 jobs)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">📍</div>
                    <div class="stat-value">$76,537</div>
                    <div class="stat-label">Lowest Major City</div>
                    <div class="stat-sublabel">Grand Rapids (-9.0% below average, 10 jobs)</div>
            </div>
                <div class="stat-card">
                    <div class="stat-icon">🎯</div>
                    <div class="stat-value">$84,067</div>
                    <div class="stat-label">State Average</div>
                    <div class="stat-sublabel">Michigan Full-Time, 206 positions analyzed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">🏢</div>
                    <div class="stat-value">$84,206</div>
                    <div class="stat-label">Detroit</div>
                    <div class="stat-sublabel">+0.2% above average (17 jobs, largest market)</div>
                </div>
            </div>
            
            <!-- City Rankings Table -->
            <div class="table-responsive">
                <table>
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>City</th>
                            <th>Full-Time Jobs</th>
                            <th>Average Salary</th>
                            <th>Salary Range</th>
                            <th>vs State Avg</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="rank-badge rank-1">1</span></td>
                            <td><strong>Auburn Hills</strong></td>
                            <td>5</td>
                            <td>$100,500</td>
                            <td>$80k - $105k</td>
                            <td class="positive">+19.5%</td>
                        </tr>
                        <tr>
                            <td><span class="rank-badge rank-2">2</span></td>
                            <td><strong>Warren</strong></td>
                            <td>5</td>
                            <td>$99,152</td>
                            <td>$71k - $105k</td>
                            <td class="positive">+17.9%</td>
                        </tr>
                        <tr>
                            <td><span class="rank-badge rank-3">3</span></td>
                            <td><strong>Southfield</strong></td>
                            <td>6</td>
                            <td>$93,333</td>
                            <td>$80k - $105k</td>
                            <td class="positive">+11.0%</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Canton</td>
                            <td>7</td>
                            <td>$90,857</td>
                            <td>$70k - $105k</td>
                            <td class="positive">+8.1%</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>Livonia</td>
                            <td>6</td>
                            <td>$88,500</td>
                            <td>$66k - $105k</td>
                            <td class="positive">+5.3%</td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>Dearborn</td>
                            <td>18</td>
                            <td>$86,710</td>
                            <td>$75k - $105k</td>
                            <td class="positive">+3.1%</td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>Taylor</td>
                            <td>6</td>
                            <td>$85,417</td>
                            <td>$80k - $95k</td>
                            <td class="positive">+1.6%</td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td>Detroit</td>
                            <td>17</td>
                            <td>$84,206</td>
                            <td>$75k - $110k</td>
                            <td class="positive">+0.2%</td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td>Sterling Heights</td>
                            <td>6</td>
                            <td>$83,417</td>
                            <td>$65k - $105k</td>
                            <td class="negative">-0.8%</td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td>Northville</td>
                            <td>5</td>
                            <td>$82,000</td>
                            <td>$75k - $85k</td>
                            <td class="negative">-2.5%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="analysis-note" style="margin-top: 16px;">
                <strong>Analysis:</strong> Auburn Hills leads Michigan cities with $100,500 average salary, 19.5% above state average. The Detroit metro area dominates the rankings with 8 of the top 10 cities. Dearborn offers the most opportunities (18 positions) among premium-paying cities, while Detroit provides the largest job market (17 positions) at near-average compensation.
            </div>
        </div>
        
        <div class="content-section">
            <h2 class="section-title">
                🎯 Michigan BCBA Supply and Demand by County
            </h2>
            
            <div class="data-note" style="margin-bottom: 20px;">
                Analysis of BCBA certificants compared to job openings in counties with active hiring (September 2025)
                    </div>
            
            <!-- Summary Statistics -->
            <div class="stats-grid" style="margin-bottom: 32px;">
                <div class="stat-card">
                    <div class="stat-icon">💼</div>
                    <div class="stat-value">379</div>
                    <div class="stat-label">TOTAL JOBS</div>
                            </div>
                <div class="stat-card">
                    <div class="stat-icon">👥</div>
                    <div class="stat-value">2,068</div>
                    <div class="stat-label">BCBAs</div>
                        </div>
                <div class="stat-card">
                    <div class="stat-icon">📊</div>
                    <div class="stat-value">0.18</div>
                    <div class="stat-label">Jobs per BCBA</div>
                        </div>
                <div class="stat-card">
                    <div class="stat-icon">🏥</div>
                    <div class="stat-value">2,581</div>
                    <div class="stat-label">RBTs</div>
                    </div>
                </div>
            
                        <!-- County Supply/Demand Table -->
            <div class="table-responsive">
                <table class="supply-demand-table">
                    <thead>
                        <tr>
                            <th>County</th>
                            <th>Population</th>
                            <th>Job<br>Openings</th>
                            <th>BCBA +<br>BCBA-D</th>
                            <th>Jobs per<br>BCBA</th>
                            <th>BCBAs per<br>100k Pop</th>
                            <th>RBTs</th>
                            <th>RBT-BCBA<br>Ratio</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="county-name">Wayne</td>
                            <td>1,793,561</td>
                            <td><strong>117</strong></td>
                            <td>408</td>
                            <td><span class="jobs-ratio-medium">0.20</span></td>
                            <td><span class="bcba-density-low">22.7</span></td>
                            <td>532</td>
                            <td><strong>1.30</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Oakland</td>
                            <td>1,274,402</td>
                            <td><strong>58</strong></td>
                            <td>496</td>
                            <td><span class="jobs-ratio-low">0.10</span></td>
                            <td><span class="bcba-density-medium">38.9</span></td>
                            <td>401</td>
                            <td><strong>0.81</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Macomb</td>
                            <td>881,217</td>
                            <td><strong>43</strong></td>
                            <td>200</td>
                            <td><span class="jobs-ratio-medium">0.17</span></td>
                            <td><span class="bcba-density-low">22.7</span></td>
                            <td>453</td>
                            <td><strong>2.27</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Kent</td>
                            <td>657,974</td>
                            <td><strong>34</strong></td>
                            <td>251</td>
                            <td><span class="jobs-ratio-low">0.10</span></td>
                            <td><span class="bcba-density-medium">38.1</span></td>
                            <td>246</td>
                            <td><strong>0.98</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Ingham</td>
                            <td>284,900</td>
                            <td><strong>23</strong></td>
                            <td>73</td>
                            <td><span class="jobs-ratio-high">0.32</span></td>
                            <td><span class="bcba-density-medium">25.6</span></td>
                            <td>75</td>
                            <td><strong>1.03</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Jackson</td>
                            <td>160,366</td>
                            <td><strong>14</strong></td>
                            <td>32</td>
                            <td><span class="jobs-ratio-high">0.44</span></td>
                            <td><span class="bcba-density-low">20.0</span></td>
                            <td>33</td>
                            <td><strong>1.03</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Genesee</td>
                            <td>405,813</td>
                            <td><strong>12</strong></td>
                            <td>71</td>
                            <td><span class="jobs-ratio-medium">0.17</span></td>
                            <td><span class="bcba-density-low">17.5</span></td>
                            <td>121</td>
                            <td><strong>1.70</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Isabella</td>
                            <td>64,394</td>
                            <td><strong>12</strong></td>
                            <td>9</td>
                            <td><span class="jobs-ratio-high">1.33</span></td>
                            <td><span class="bcba-density-low">14.0</span></td>
                            <td>21</td>
                            <td><strong>2.33</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Berrien</td>
                            <td>154,316</td>
                            <td><strong>17</strong></td>
                            <td>31</td>
                            <td><span class="jobs-ratio-high">0.35</span></td>
                            <td><span class="bcba-density-low">20.1</span></td>
                            <td>142</td>
                            <td><strong>4.58</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Bay</td>
                            <td>103,856</td>
                            <td><strong>10</strong></td>
                            <td>45</td>
                            <td><span class="jobs-ratio-medium">0.22</span></td>
                            <td><span class="bcba-density-medium">43.3</span></td>
                            <td>58</td>
                            <td><strong>1.29</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Kalamazoo</td>
                            <td>261,670</td>
                            <td><strong>9</strong></td>
                            <td>151</td>
                            <td><span class="jobs-ratio-low">0.06</span></td>
                            <td><span class="bcba-density-high">57.7</span></td>
                            <td>161</td>
                            <td><strong>1.07</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Calhoun</td>
                            <td>134,310</td>
                            <td><strong>6</strong></td>
                            <td>13</td>
                            <td><span class="jobs-ratio-high">0.46</span></td>
                            <td><span class="bcba-density-low">9.7</span></td>
                            <td>21</td>
                            <td><strong>1.62</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Allegan</td>
                            <td>120,502</td>
                            <td><strong>5</strong></td>
                            <td>19</td>
                            <td><span class="jobs-ratio-high">0.26</span></td>
                            <td><span class="bcba-density-low">15.8</span></td>
                            <td>32</td>
                            <td><strong>1.68</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Ottawa</td>
                            <td>296,200</td>
                            <td><strong>4</strong></td>
                            <td>100</td>
                            <td><span class="jobs-ratio-low">0.04</span></td>
                            <td><span class="bcba-density-medium">33.8</span></td>
                            <td>106</td>
                            <td><strong>1.06</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Washtenaw</td>
                            <td>372,258</td>
                            <td><strong>4</strong></td>
                            <td>100</td>
                            <td><span class="jobs-ratio-low">0.04</span></td>
                            <td><span class="bcba-density-medium">26.9</span></td>
                            <td>95</td>
                            <td><strong>0.95</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Livingston</td>
                            <td>193,866</td>
                            <td><strong>4</strong></td>
                            <td>46</td>
                            <td><span class="jobs-ratio-low">0.09</span></td>
                            <td><span class="bcba-density-low">23.7</span></td>
                            <td>55</td>
                            <td><strong>1.20</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Eaton</td>
                            <td>109,175</td>
                            <td><strong>2</strong></td>
                            <td>12</td>
                            <td><span class="jobs-ratio-medium">0.17</span></td>
                            <td><span class="bcba-density-low">11.0</span></td>
                            <td>17</td>
                            <td><strong>1.42</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Saginaw</td>
                            <td>190,124</td>
                            <td><strong>2</strong></td>
                            <td>51</td>
                            <td><span class="jobs-ratio-low">0.04</span></td>
                            <td><span class="bcba-density-medium">26.8</span></td>
                            <td>72</td>
                            <td><strong>1.41</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Muskegon</td>
                            <td>175,319</td>
                            <td><strong>1</strong></td>
                            <td>35</td>
                            <td><span class="jobs-ratio-low">0.03</span></td>
                            <td><span class="bcba-density-low">20.0</span></td>
                            <td>42</td>
                            <td><strong>1.20</strong></td>
                        </tr>
                        <tr>
                            <td class="county-name">Lenawee</td>
                            <td>99,423</td>
                            <td><strong>1</strong></td>
                            <td>11</td>
                            <td><span class="jobs-ratio-low">0.09</span></td>
                            <td><span class="bcba-density-low">11.1</span></td>
                            <td>23</td>
                            <td><strong>2.09</strong></td>
                        </tr>
                        <tr style="background: #f1f5f9; font-weight: 600;">
                            <td class="county-name">TOTAL</td>
                            <td>7,245,709</td>
                            <td><strong>379</strong></td>
                            <td>2,068</td>
                            <td><span class="jobs-ratio-medium">0.18</span></td>
                            <td><span class="bcba-density-medium">28.5</span></td>
                            <td>2,581</td>
                            <td><strong>1.25</strong></td>
                        </tr>
                    </tbody>
                    </table>
                </div>
            

            <div class="analysis-note" style="margin-top: 16px;">
                <strong>📊 Market Insights:</strong>
                <ul style="margin: 8px 0 0 0; padding-left: 20px;">
                    <li><strong>Job Distribution:</strong> 74% of job openings are in Wayne, Oakland, Macomb, and Kent counties</li>
                    <li><strong>BCBA Concentration:</strong> Kalamazoo (90.6), Ingham (60.4), and Kent (40.6) have the highest BCBAs per capita</li>
                    <li><strong>Supply-Demand Balance:</strong> All major counties show <0.25 jobs per BCBA, indicating a competitive job market</li>
                    <li><strong>RBT-BCBA Ratio:</strong> 1.25:1 ratio with 2,581 RBTs to 2,068 BCBAs across 21 counties with job openings (out of 83 total Michigan counties)</li>
                </ul>
            </div>
        </div>

    </div>
    
    <script>
        // Salary Distribution Chart
        const salaryCtx = document.getElementById('salaryDistChart').getContext('2d');
        new Chart(salaryCtx, {
            type: 'bar',
            data: {
                labels: ['$65K-$75K', '$75K-$85K', '$85K-$95K', '$95K-$105K', '$105K+'],
                datasets: [{
                    label: 'Number of Positions',
                    data: [5, 148, 20, 2, 31],
                    backgroundColor: [
                        '#3b82f6',
                        '#3b82f6', 
                        '#3b82f6',
                        '#3b82f6',
                        '#ef4444'
                    ],
                    borderColor: [
                        '#2563eb',
                        '#2563eb',
                        '#2563eb', 
                        '#2563eb',
                        '#dc2626'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'BCBA Salary Distribution in Michigan',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            font: { size: 12 },
                            padding: 20,
                            generateLabels: function(chart) {
                                return [
                                    {
                                        text: 'Other Companies (175 positions)',
                                        fillStyle: '#3b82f6',
                                        strokeStyle: '#2563eb',
                                        lineWidth: 1
                                    },
                                    {
                                        text: 'Akoya Behavioral Health (31 positions)',
                                        fillStyle: '#ef4444',
                                        strokeStyle: '#dc2626',
                                        lineWidth: 1
                                    }
                                ];
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Number of Positions'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Salary Range'
                        }
                    }
                }
            }
        });

        // City Analysis Chart (copied from demo)
        const cityCtx = document.getElementById('cityChart').getContext('2d');
        new Chart(cityCtx, {
            type: 'bar',
            data: {
                labels: ['Allegan', 'Novi', 'Auburn Hills', 'Warren', 'Royal Oak', 'Southfield', 'Canton', 'Livonia'],
                datasets: [{
                    label: 'Average Salary',
                    data: [105000, 105000, 100500, 99152, 97690, 93333, 90857, 88500],
                    backgroundColor: function(context) {
                        const value = context.raw;
                        if (value >= 90000) return 'rgba(239, 68, 68, 0.7)';
                        if (value >= 80000) return 'rgba(251, 146, 60, 0.7)';
                        return 'rgba(59, 130, 246, 0.7)';
                    },
                    borderColor: function(context) {
                        const value = context.raw;
                        if (value >= 90000) return 'rgba(239, 68, 68, 1)';
                        if (value >= 80000) return 'rgba(251, 146, 60, 1)';
                        return 'rgba(59, 130, 246, 1)';
                    },
                    borderWidth: 1,
                    yAxisID: 'y',
                    order: 2,
                    barPercentage: 0.7
                }, {
                    label: 'Number of Jobs',
                    data: [4, 4, 5, 5, 4, 6, 7, 6],
                    type: 'line',
                    backgroundColor: 'rgba(99, 102, 241, 0.1)',
                    borderColor: 'rgba(99, 102, 241, 1)',
                    borderWidth: 2,
                    pointBackgroundColor: 'rgba(99, 102, 241, 1)',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 4,
                    pointHoverRadius: 6,
                    yAxisID: 'y1',
                    order: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            font: {
                                size: 12
                            },
                            padding: 20,
                            usePointStyle: true
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return 'Avg Salary: $' + context.raw.toLocaleString();
                                } else {
                                    return 'Jobs Available: ' + context.raw;
                                }
                            }
                        },
                        backgroundColor: 'rgba(30, 41, 59, 0.95)',
                        titleFont: {
                            size: 14,
                            weight: '600'
                        },
                        bodyFont: {
                            size: 13
                        },
                        padding: 12
                    }
                },
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: {
                                size: 11
                            }
                        },
                        title: {
                            display: true,
                            text: 'City',
                            font: {
                                size: 12,
                                weight: '600'
                            },
                            padding: {top: 10}
                        }
                    },
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + (value/1000) + 'k';
                            },
                            font: {
                                size: 11
                            }
                        },
                        title: {
                            display: true,
                            text: 'Average Salary',
                            font: {
                                size: 12,
                                weight: '600'
                            }
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        beginAtZero: true,
                        grid: {
                            drawOnChartArea: false
                        },
                        ticks: {
                            font: {
                                size: 11
                            }
                        },
                        title: {
                            display: true,
                            text: 'Number of Jobs',
                            font: {
                                size: 12,
                                weight: '600'
                            }
                        }
                    }
                }
            }
        });

        // Interactive Box Plot
        const boxPlotCtx = document.getElementById('salaryBoxPlot').getContext('2d');
        new Chart(boxPlotCtx, {
            type: 'boxplot',
            data: {
                labels: ['Michigan BCBA Salaries'],
                datasets: [{
                    label: 'Salary Distribution',
                    // Using calculated quartiles and outliers from our analysis
                    data: [{
                        min: 65000,
                        q1: 77500,
                        median: 81000,
                        q3: 85000,
                        max: 95000,
                        outliers: [
                            65000, 65000,
                            105000, 105000, 105000, 105000, 105000, 105000, 105000, 105000, 105000, 105000,
                            105000, 105000, 105000, 105000, 105000, 105000, 105000, 105000, 105000, 105000,
                            105000, 105000, 105000, 105000, 105000, 105000, 105000, 105000, 105000, 105000,
                            105000
                        ]
                    }],
                    backgroundColor: 'rgba(59, 130, 246, 0.3)',
                    borderColor: 'rgba(59, 130, 246, 1)',
                    borderWidth: 2,
                    outlierColor: 'rgba(239, 68, 68, 0.8)',
                    outlierRadius: 6,
                    outlierBorderColor: 'rgba(220, 38, 38, 1)',
                    outlierBorderWidth: 2,
                    itemRadius: 0,
                    itemStyle: 'circle',
                    itemBackgroundColor: 'rgba(59, 130, 246, 0.7)',
                    itemBorderColor: 'rgba(59, 130, 246, 1)'
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'BCBA Salary Distribution Box Plot',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const stats = context.raw;
                                const outliers = stats.outliers || [];
                                const tooltipLines = [
                                    `Min: $${stats.min.toLocaleString()}`,
                                    `Q1 (25th): $${stats.q1.toLocaleString()}`,
                                    `Median: $${stats.median.toLocaleString()}`,
                                    `Q3 (75th): $${stats.q3.toLocaleString()}`,
                                    `Max: $${stats.max.toLocaleString()}`,
                                    `Sample: 206 positions`
                                ];
                                if (outliers.length > 0) {
                                    tooltipLines.push(`Outliers: ${outliers.length} positions`);
                                    tooltipLines.push(`2 × $65K + 31 × $105K (Akoya)`);
                                }
                                return tooltipLines;
                            }
                        },
                        backgroundColor: 'rgba(30, 41, 59, 0.95)',
                        titleFont: { size: 14, weight: '600' },
                        bodyFont: { size: 12 },
                        padding: 12
                    }
                },
                scales: {
                    x: {
                        beginAtZero: false,
                        min: 60000,
                        max: 110000,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' },
                        ticks: {
                            callback: function(value) {
                                return '$' + (value/1000) + 'k';
                            },
                            font: { size: 11 }
                        },
                        title: {
                            display: true,
                            text: 'Annual Salary',
                            font: { size: 12, weight: '600' }
                        }
                    },
                    y: {
                        grid: { display: false },
                        ticks: { font: { size: 12 } }
                    }
                }
            }
        });

        // Market Trends Chart (Supply vs Demand)
        const marketTrendsCanvas = document.getElementById('marketTrendsChart');
        if (marketTrendsCanvas) {
        const marketTrendsCtx = marketTrendsCanvas.getContext('2d');
        new Chart(marketTrendsCtx, {
            type: 'line',
            data: {
                labels: ['July 2025', 'August 2025'],
                datasets: [{
                    label: 'Job Postings',
                    data: [111, 155],
                    borderColor: 'rgba(59, 130, 246, 1)',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    borderWidth: 3,
                    pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    fill: true,
                    tension: 0.4
                }, {
                    label: 'New BCBAs Certified',
                    data: [null, 46],
                    borderColor: 'rgba(34, 197, 94, 1)',
                    backgroundColor: 'rgba(34, 197, 94, 0.1)',
                    borderWidth: 3,
                    pointBackgroundColor: 'rgba(34, 197, 94, 1)',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    fill: false,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Supply vs Demand Trends',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            font: { size: 12 },
                            padding: 20,
                            usePointStyle: true
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(30, 41, 59, 0.95)',
                        titleFont: { size: 14, weight: '600' },
                        bodyFont: { size: 13 },
                        padding: 12
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' },
                        ticks: { font: { size: 11 } },
                        title: {
                            display: true,
                            text: 'Count',
                            font: { size: 12, weight: '600' }
                        }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { font: { size: 11 } }
                    }
                }
            }
        });
        }

        // Market Growth Chart
        const marketGrowthCanvas = document.getElementById('marketGrowthChart');
        if (marketGrowthCanvas) {
        const marketGrowthCtx = marketGrowthCanvas.getContext('2d');
        new Chart(marketGrowthCtx, {
            type: 'bar',
            data: {
                labels: ['Total BCBAs (July)', 'Total BCBAs (August)', 'Jobs per New BCBA', 'Job Growth Rate (%)'],
                datasets: [{
                    label: 'Market Metrics',
                    data: [2519, 2565, 3.4, 40],
                    backgroundColor: [
                        'rgba(139, 92, 246, 0.7)',
                        'rgba(139, 92, 246, 0.8)',
                        'rgba(34, 197, 94, 0.7)',
                        'rgba(59, 130, 246, 0.7)'
                    ],
                    borderColor: [
                        'rgba(139, 92, 246, 1)',
                        'rgba(139, 92, 246, 1)',
                        'rgba(34, 197, 94, 1)',
                        'rgba(59, 130, 246, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Market Health Indicators',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const label = context.label;
                                const value = context.raw;
                                if (label.includes('BCBAs')) {
                                    return label + ': ' + value.toLocaleString();
                                } else if (label.includes('Jobs per')) {
                                    return label + ': ' + value + ' jobs per new BCBA';
                                } else if (label.includes('Growth Rate')) {
                                    return label + ': ' + value + '%';
                                }
                                return label + ': ' + value;
                            }
                        },
                        backgroundColor: 'rgba(30, 41, 59, 0.95)',
                        titleFont: { size: 14, weight: '600' },
                        bodyFont: { size: 13 },
                        padding: 12
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' },
                        ticks: { 
                            font: { size: 11 },
                            callback: function(value) {
                                if (value >= 1000) {
                                    return (value/1000) + 'k';
                                }
                                return value;
                            }
                        },
                        title: {
                            display: true,
                            text: 'Value',
                            font: { size: 12, weight: '600' }
                        }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { 
                            font: { size: 10 },
                            maxRotation: 45
                        }
                    }
                }
            }
        });
        }
    </script>
</body>
</html>